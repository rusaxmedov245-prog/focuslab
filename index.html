<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Focus Lab ‚Äî –î–∞—à–±–æ—Ä–¥</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.webmanifest"/>
  <meta name="theme-color" content="#111111"/>
</head>
<body>
<header class="topbar">
  <h1>Focus Lab</h1>
  <div class="actions">
    <button id="exportBtn">–≠–∫—Å–ø–æ—Ä—Ç</button>
    <label class="import-label">–ò–º–ø–æ—Ä—Ç<input type="file" id="importFile" accept=".json"/></label>
    <button id="resetBtn" class="danger">–°–±—Ä–æ—Å</button>
  </div>
</header>

<main>
  <!-- TODAY -->
  <section id="today" class="tab active">
    <div class="hero">
      <img src="assets/focusbot.png" alt="FocusBot" class="bot"/>
      <div>
        <div class="hero-title">–ü—Ä–∏–≤–µ—Ç! –Ø FocusBot ü§ñ</div>
        <div class="hero-sub">–û—Ç–º–µ—á–∞–π –ø—Ä–∏–≤—ã—á–∫–∏ –∏ –¥–æ–±–∞–≤–ª—è–π —Ä–∞—Å—Ö–æ–¥—ã ‚Äî —è –≤—Å—ë –ø–æ—Å—á–∏—Ç–∞—é.</div>
      </div>
    </div>
    <div class="card white">
      <div class="card-title">–ü—Ä–∏–≤—ã—á–∫–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è</div>
      <div id="todayHabits" class="today-list"></div>
    </div>
    <div class="card white">
      <div class="card-title">–ë—ã—Å—Ç—Ä–∞—è —Ç—Ä–∞—Ç–∞</div>
      <div class="form quick">
        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è
          <select id="qCat"></select>
        </label>
        <label>–°—É–º–º–∞ <input type="number" id="qAmount" step="0.01" min="0" inputmode="decimal"></label>
        <button id="qAdd">–î–æ–±–∞–≤–∏—Ç—å</button>
      </div>
      <div class="hint">–°–µ–≥–æ–¥–Ω—è –≤—Å–µ–≥–æ: <b id="qTotal">0</b></div>
    </div>
  </section>

  <!-- DASHBOARD -->
  <section id="dashboard" class="tab">
    <div class="kpi-grid">
      <div class="card blue"><div class="card-title">–°–µ–≥–æ–¥–Ω—è –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</div><div class="card-value" id="kpiToday">0%</div></div>
      <div class="card green"><div class="card-title">–ù–µ–¥–µ–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞</div><div class="card-value" id="kpiWeek">0%</div></div>
      <div class="card purple"><div class="card-title">–ú–µ—Å—è—Ü –≤—ã–ø–æ–ª–Ω–µ–Ω</div><div class="card-value" id="kpiMonth">0%</div></div>
      <div class="card pink"><div class="card-title">–õ—É—á—à–∞—è –ø—Ä–∏–≤—ã—á–∫–∞</div><div class="card-value small" id="kpiBest">‚Äî</div></div>
      <div class="card orange"><div class="card-title">–•—É–¥—à–∞—è –ø—Ä–∏–≤—ã—á–∫–∞</div><div class="card-value small" id="kpiWorst">‚Äî</div></div>
      <div class="card teal"><div class="card-title">–†–∞—Å—Ö–æ–¥—ã (–Ω–µ–¥–µ–ª—è)</div><div class="card-value" id="kpiSpendWeek">0</div></div>
    </div>
    <div class="charts-grid">
      <div class="card white"><div class="card-title">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ (–Ω–µ–¥–µ–ª—è)</div><canvas id="chartDonut" width="600" height="300"></canvas></div>
      <div class="card white"><div class="card-title">–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ –Ω–µ–¥–µ–ª—è–º</div><canvas id="chartBars" width="600" height="300"></canvas></div>
    </div>
    <div class="charts-grid">
      <div class="card white"><div class="card-title">–î–∏–Ω–∞–º–∏–∫–∞ –ø–æ –¥–Ω—è–º</div><canvas id="chartLine" width="600" height="300"></canvas></div>
      <div class="card white"><div class="card-title">–ü—Ä–∏–≤—ã—á–∫–∏ (% –º–µ—Å—è—Ü–∞)</div>
        <table id="tableHabitsHeat" class="mini"><thead><tr><th>–ü—Ä–∏–≤—ã—á–∫–∞</th><th>%</th></tr></thead><tbody></tbody></table>
      </div>
    </div>
  </section>

  <!-- HABITS -->
  <section id="habits" class="tab">
    <div class="card white">
      <div class="card-title">–û—Ç–º–µ—á–∞–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ –¥–Ω—è–º</div>
      <div class="month-picker"><label>–ú–µ—Å—è—Ü: <input type="month" id="monthInput"></label></div>
      <div id="habitsGrid"></div>
    </div>
  </section>

  <!-- FINANCE -->
  <section id="finance" class="tab">
    <div class="split">
      <div class="card white">
        <div class="card-title">–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞—Ç—É</div>
        <div class="form">
          <label>–î–∞—Ç–∞ <input type="date" id="finDate"></label>
          <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è <select id="finCat"></select></label>
          <label>–°—É–º–º–∞ <input type="number" id="finAmount" step="0.01" min="0" inputmode="decimal"></label>
          <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π <input type="text" id="finNote" maxlength="120"></label>
          <button id="addFin">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
      </div>
      <div class="card white">
        <div class="card-title">–ñ—É—Ä–Ω–∞–ª</div>
        <table id="finTable"><thead><tr><th>–î–∞—Ç–∞</th><th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th><th>–°—É–º–º–∞</th><th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th><th></th></tr></thead><tbody></tbody></table>
      </div>
    </div>
  </section>

  <!-- PLANNER -->
  <section id="planner" class="tab">
    <div class="card white">
      <div class="card-title">–¶–µ–ª–∏ –º–µ—Å—è—Ü–∞</div>
      <div id="goalsList" class="goals"></div>
      <button id="addGoal">+ —Ü–µ–ª—å</button>
    </div>
    <div class="card white">
      <div class="card-title">–§–æ–∫—É—Å –Ω–µ–¥–µ–ª–∏ –∏ –∏—Ç–æ–≥–∏</div>
      <table id="plannerTable"><thead><tr><th>–ù–µ–¥–µ–ª—è</th><th>–§–æ–∫—É—Å</th><th>–¢–æ–ø-3 –∑–∞–¥–∞—á–∏</th><th>–ò—Ç–æ–≥</th></tr></thead><tbody></tbody></table>
    </div>
  </section>
</main>

<!-- Bottom navigation -->
<nav class="bottom-nav">
  <button data-tab="today" class="active">–°–µ–≥–æ–¥–Ω—è</button>
  <button data-tab="dashboard">–û–±–∑–æ—Ä</button>
  <button data-tab="habits">–ü—Ä–∏–≤—ã—á–∫–∏</button>
  <button data-tab="finance">–î–µ–Ω—å–≥–∏</button>
  <button data-tab="planner">–ü–ª–∞–Ω—ë—Ä–∫–∞</button>
</nav>

<footer>
  <small>PWA. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ. –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç ‚Äî –≤ —à–∞–ø–∫–µ.</small>
</footer>

<script src="app.js"></script>
<script>if("serviceWorker" in navigator){navigator.serviceWorker.register("./sw.js");}</script>
</body>
</html>
